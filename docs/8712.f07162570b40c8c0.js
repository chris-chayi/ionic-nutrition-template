"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8712],{8712:(v,h,o)=>{o.r(h),o.d(h,{SearchPageModule:()=>p});var m=o(6895),Z=o(4719),i=o(9153),u=o(447),f=o(5861),e=o(6738),T=o(2340),C=o(529);class c{http;baseUrl=T.N.apiURL;constructor(n){this.http=n}searchRecipeAPI(n){return this.http.get(`${this.baseUrl}&q=${n}`)}static \u0275fac=function(t){return new(t||c)(e.LFG(C.eN))};static \u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}const b=["searchBar"];function A(d,n){if(1&d){const t=e.EpF();e.TgZ(0,"ion-item",12),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw().detail(g)}),e._UZ(1,"img",13),e.TgZ(2,"div",14),e.TgZ(3,"ion-label"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"div",15),e._UZ(8,"ion-icon",16),e.TgZ(9,"span"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&d){const t=n.$implicit;e.xp6(1),e.Q6J("src",null==t||null==t.recipe?null:t.recipe.image,e.LSH),e.xp6(3),e.Oqu((null==t||null==t.recipe||null==t.recipe.label?null:t.recipe.label.length)<17?null==t||null==t.recipe?null:t.recipe.label:(null==t||null==t.recipe||null==t.recipe.label?null:t.recipe.label.slice(0,16))+"..."),e.xp6(2),e.hij(" ",null==t||null==t.recipe?null:t.recipe.dishType," "),e.xp6(4),e.hij(" ",null==t||null==t.recipe?null:t.recipe.totalTime," min")}}class a{router;searchService;loadingCtrl;searchBar;categoryRecipes=[];term="";constructor(n,t,r){this.router=n,this.searchService=t,this.loadingCtrl=r}ngOnInit(){}detail({recipe:n}){const t={state:n},r=this.parameterize(n.label);this.router.navigate([`/recipes/recipe-detail/${r}`],t)}parameterize(n){return n.trim().toLowerCase().replace(/[^a-zA-Z0-9 -]/,"").replace(/\s/g,"-")}handleChange(n){this.term=n.target.value}search(){var n=this;return(0,f.Z)(function*(){const t=yield n.loadingCtrl.create({spinner:"crescent",message:`Search...${n.term}`});t.present();try{const r=yield n.searchService.searchRecipeAPI(n.term).toPromise();n.categoryRecipes=r?.hits,t.dismiss()}catch(r){console.log(r),t.dismiss()}})()}ionViewWillEnter(){this.searchBar.setFocus()}static \u0275fac=function(t){return new(t||a)(e.Y36(u.F0),e.Y36(c),e.Y36(i.HT))};static \u0275cmp=e.Xpm({type:a,selectors:[["app-search"]],viewQuery:function(t,r){if(1&t&&e.Gf(b,7),2&t){let l;e.iGM(l=e.CRH())&&(r.searchBar=l.first)}},decls:20,vars:3,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/","color","dark","text",""],["placeholder","Type here to search","debounce","500",3,"value","ionInput"],["searchBar",""],["slot","end"],["color","dark",3,"click"],[3,"fullscreen"],["collapse","condense"],["size","large"],["lines","full"],["button","","detail","true",3,"click",4,"ngFor","ngForOf"],["button","","detail","true",3,"click"],["alt","","slot","start",1,"recipe-thumbnail",3,"src"],[1,"recipe-caption"],[1,"recipe-total-time"],["name","time","color","recipe-green"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-toolbar"),e.TgZ(5,"ion-title"),e._uU(6,"Search where Recipes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"ion-toolbar"),e.TgZ(8,"ion-searchbar",3,4),e.NdJ("ionInput",function(g){return r.handleChange(g)}),e.qZA(),e.TgZ(10,"ion-buttons",5),e.TgZ(11,"ion-button",6),e.NdJ("click",function(){return r.search()}),e._uU(12," Search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"ion-content",7),e.TgZ(14,"ion-header",8),e.TgZ(15,"ion-toolbar"),e.TgZ(16,"ion-title",9),e._uU(17,"Search Recipes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"ion-list",10),e.YNc(19,A,11,4,"ion-item",11),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("value",r.term),e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(6),e.Q6J("ngForOf",r.categoryRecipes))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.VI,i.j9,i.YG,i.W2,i.q_,m.sg,i.Ie,i.Q$,i.gu],styles:["ion-title[_ngcontent-%COMP%]{text-transform:capitalize}ion-item[_ngcontent-%COMP%]{--padding-bottom: 10px;--padding-top: 10px}.recipe-thumbnail[_ngcontent-%COMP%]{width:120px;border-radius:15px}.recipe-caption[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.recipe-caption[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#9b9b9b;font-size:15px}.recipe-total-time[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.recipe-total-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .recipe-total-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.recipe-total-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}"]})}const P=[{path:"",component:a}];class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[[u.Bz.forChild(P)],u.Bz]})}class p{static \u0275fac=function(t){return new(t||p)};static \u0275mod=e.oAB({type:p});static \u0275inj=e.cJS({imports:[[m.ez,Z.u5,i.Pc,s]]})}}}]);